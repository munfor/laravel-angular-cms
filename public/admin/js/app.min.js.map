{"version":3,"sources":["annotated.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.min.js","sourcesContent":["(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app', [\r\n            'app.core',\r\n            'app.filters',\r\n            'app.router',\r\n            'app.components',\r\n            'app.services',\r\n\r\n            'app.login',\r\n            'app.profile',\r\n            'app.dashboard',\r\n            'app.users',\r\n            'app.posts',\r\n            'app.gallery',\r\n            'app.permisos'\r\n        ]);\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.dashboard', [\r\n            'app.core'\r\n        ]);\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.components', []);\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.core', [\r\n            'ui.router',\r\n            'ngResource'\r\n        ]);\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.login', [\r\n            'app.core'\r\n        ]);\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.permisos', [\r\n            'app.core',\r\n            'restangular'\r\n        ]);\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.gallery', [\r\n            'app.core'\r\n        ]);\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.filters', []);\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.profile', [\r\n            'app.core'\r\n        ]);\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.posts', [\r\n            'app.core',\r\n            'textAngular'\r\n        ]);\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.router', [\r\n            'ui.router'\r\n        ]);\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.users', [\r\n            'app.core'\r\n        ]);\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.services', [\r\n            'app.core'\r\n        ]);\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module(\"app.dashboard\")\r\n        .controller('DashboardController', DashboardController);\r\n\r\n    DashboardController.$inject = ['$http'];\r\n    /* @nginject */\r\n    function DashboardController($http) {\r\n\r\n        var vm = this;\r\n        vm.getData = getData;\r\n\r\n        getData();\r\n\r\n        /**\r\n         * Get Data\r\n         */\r\n        function getData() {\r\n            $http.get('/admin/api/dashboard').success(function(res) {\r\n                vm.users_count      = res.users_count;\r\n                vm.posts_count      = res.posts_count;\r\n                vm.galleries_count  = res.galleries_count;\r\n                vm.ready = true;\r\n            });\r\n        }\r\n    }\r\n\r\n}());\r\n\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.dashboard')\r\n        .run(appRun);\r\n\r\n    appRun.$inject = ['routerHelper'];\r\n    /* @ngInject */\r\n    function appRun(routerHelper) {\r\n        routerHelper.configureStates(getStates());\r\n    }\r\n\r\n    function getStates() {\r\n        return [\r\n            {\r\n                state: 'dashboard',\r\n                config: {\r\n                    url: '/admin/dashboard',\r\n                    templateUrl: '/admin/views/admin.dashboard.index',\r\n                    controller: 'DashboardController',\r\n                    controllerAs: 'vm',\r\n                    title: 'Dashboard'\r\n                }\r\n            }\r\n        ];\r\n    }\r\n})();\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.components')\r\n        .directive(\"deleteModal\", deleteModal);\r\n    \r\n    function deleteModal() {\r\n        var directive = {\r\n            restrict: \"A\",\r\n            scope: {\r\n                cancel: \"&\",\r\n                delete: \"&\"\r\n            },\r\n            templateUrl: \"/admin/views/admin.angular_components.modal\"\r\n        };\r\n\r\n        return directive;\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.components')\r\n        .directive(\"fileread\", fileread);\r\n\r\n    fileread.$inject = ['$parse'];\r\n    /* @ngInject */\r\n    function fileread($parse) {\r\n        var directive = {\r\n            restrict: \"A\",\r\n            scope: {\r\n                fileread: '='\r\n            },\r\n            link: link\r\n        };\r\n\r\n        return directive;\r\n\r\n        function link(scope, element, attributes) {\r\n            element.bind(\"change\", function (changeEvent) {\r\n                var file = changeEvent.target.files[0];\r\n\r\n                var reader = new FileReader();\r\n                reader.onload = function (loadEvent) {\r\n\r\n                    var isImage = file.type.substring(0,5) === 'image';\r\n\r\n                    scope.fileread = {\r\n                        url: loadEvent.target.result,\r\n                        size: file.size,\r\n                        type: file.type,\r\n                        name: file.name,\r\n                        isImage: isImage\r\n                    };\r\n\r\n                    scope.$apply();\r\n                };\r\n                reader.readAsDataURL(file);\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.components')\r\n        .directive(\"filereadMultiple\", filereadMultiple);\r\n\r\n    filereadMultiple.$inject = ['$parse'];\r\n    /* @ngInject */\r\n    function filereadMultiple($parse) {\r\n        var directive = {\r\n            restrict: \"A\",\r\n            scope: {\r\n                filereadMultiple: '='\r\n            },\r\n            link: link\r\n        };\r\n\r\n        return directive;\r\n\r\n        function link(scope, element, attributes) {\r\n            element.bind(\"change\", function (changeEvent) {\r\n                var files = changeEvent.target.files;\r\n                scope.filereadMultiple = [];\r\n                for(var i=0; i<files.length; i++) {\r\n                    (function(file) {\r\n                        var reader = new FileReader();\r\n                        reader.onload = function (loadEvent) {\r\n\r\n                            var isImage = file.type.substring(0,5) === 'image';\r\n\r\n                            scope.filereadMultiple.push({\r\n                                url: loadEvent.target.result,\r\n                                size: file.size,\r\n                                type: file.type,\r\n                                name: file.name,\r\n                                isImage: isImage\r\n                            });\r\n\r\n                            scope.$apply();\r\n                        };\r\n                        reader.readAsDataURL(file);\r\n                    }(files[i]));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.components')\r\n        .directive(\"flashMessage\", flashMessage);\r\n\r\n    function flashMessage() {\r\n        var directive = {\r\n            restrict: \"E\",\r\n            templateUrl: '/admin/views/admin.angular_components.flash_messages'\r\n        };\r\n\r\n        return directive;\r\n    }\r\n\r\n}());\r\n\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.components')\r\n        .directive(\"pageLoading\", pageLoading);\r\n\r\n    function pageLoading() {\r\n        var directive = {\r\n            restrict: \"E\",\r\n            scope: {},\r\n            template: \"<div class='preloader'><img src='/admin/images/main/preloader.gif' alt='preloader gif'></div>\"\r\n        };\r\n\r\n        return directive;\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    appRun.$inject = [\"routerHelper\"];\r\n    angular\r\n        .module('app.core')\r\n        .run(appRun);\r\n\r\n    /* @ngInject */\r\n    function appRun(routerHelper) {\r\n        var otherwise = '/admin/404';\r\n        routerHelper.configureStates(getStates(), otherwise);\r\n    }\r\n\r\n    function getStates() {\r\n        return [\r\n            {\r\n                state: '404',\r\n                config: {\r\n                    url: '/admin/404',\r\n                    templateUrl: '/admin/views/admin.error.index'\r\n                }\r\n            }\r\n        ];\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module(\"app.login\")\r\n        .controller('LoginController', LoginController);\r\n\r\n    LoginController.$inject = ['$http', '$window'];\r\n    /* @nginject */\r\n    function LoginController($http, $window) {\r\n\r\n        var vm = this;\r\n\r\n        vm.user = {};\r\n        vm.login = login;\r\n\r\n        /**\r\n         * Login\r\n         */\r\n        function login() {\r\n            $http.post('/admin/login', {user: vm.user})\r\n                .success(function (res) {\r\n                    $window.location.href = '/admin/dashboard';\r\n                })\r\n                .error(function(res) {\r\n                    vm.error = res;\r\n                });\r\n        }\r\n\r\n    }\r\n\r\n}());\r\n\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.login')\r\n        .run(appRun);\r\n\r\n    appRun.$inject = ['routerHelper'];\r\n    /* @ngInject */\r\n    function appRun(routerHelper) {\r\n        routerHelper.configureStates(getStates());\r\n    }\r\n\r\n    function getStates() {\r\n        return [\r\n            {\r\n                state: 'login',\r\n                config: {\r\n                    url: '/admin/login',\r\n                    controller: 'LoginController',\r\n                    controllerAs: 'vm',\r\n                    title: 'Login'\r\n                }\r\n            }\r\n        ];\r\n    }\r\n})();\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.permisos')\r\n        .controller('permisosController', permisosController);\r\n\r\n    permisosController.$inject = ['$http', '$timeout', '$stateParams', 'User', 'Permiso'];\r\n    \r\n    /* @nginject */\r\n    function permisosController($http, $timeout, $stateParams, User, Permiso) {\r\n\r\n            var vm = this;\r\n                       \r\n            \r\n    //====================================================================================\r\n\t            $http({\r\n\t\t\t            method: 'GET',\r\n\t\t\t            url: '/list/empresas',\r\n\t\t\t            data: { applicationId: 3 }\r\n\t\t\t        }).success(function (result) {\r\n\t\t\t        \tvm.selectEmpresas = result;\r\n\t            });\r\n    //====================================================================================\r\n                                    \r\n\r\n        \r\n    //            vm.user = {};\r\n    //            vm.users = {};\r\n    //            vm.authuser = {};            \r\n                vm.create = create;\r\n                // vm.selectCentros = [{}];\r\n                vm.getCentros = getCentros;\r\n    //            vm.update = update;\r\n    //            vm.deleteUser = deleteUser;\r\n    //            vm.hideImage = hideImage;\r\n    //            vm.deleteImage = deleteImage;\r\n    //            vm.showDeleteModal = showDeleteModal;\r\n    //            vm.hideDeleteModal = hideDeleteModal;\r\n    //            vm.loadMore = loadMore;\r\n    //            vm.liveSearch = liveSearch;\r\n    //            vm.filterByRole = filterByRole;    \r\n    //            authUser();            \r\n            \r\n\r\n                \r\n            if(! $stateParams.idProg) { getPermisos(); }\r\n            \r\n            \r\n            if($stateParams.idProg) { getPermiso();  }\r\n                        \r\n            \r\n\r\n    //            /**\r\n    //             * Auth user\r\n    //             */\r\n    //            function authUser() {\r\n    //                AuthUser.get().success(function(res) {\r\n    //                    vm.authUser = res;\r\n    //                    vm.isUploaded = res.image ? true : false;\r\n    //                });\r\n    //            }\r\n            \r\n            /**\r\n             * Al seleccionar una Empresa se rellena la lista de Centros \r\n             */\r\n            function getCentros() {\r\n            \t\r\n            \t// alert('Carga de centros');\r\n            \t\r\n            \tconsole.log( vm );\r\n            \t\r\n                $http.post('/list/empresas', { idEmpresa: vm.Empresa.id }).success(function (res) {\r\n                \t\r\n                \tconsole.log( res );\r\n                \t\r\n                \tvm.selectCentros = res;\r\n                \t\r\n                    // vm.users = res.data;\r\n                    // vm.total = res.total;\r\n                    // vm.next = res.next_page_url;\r\n                });\r\n            }\r\n            \r\n\r\n            /**\r\n             * Get all\r\n             */\r\n            function getPermisos() {            \t\r\n                Permiso.get(function (res) {\r\n                     vm.permisos = res.data;\r\n                     vm.total = res.total;\r\n                     vm.next = res.next_page_url;\r\n                     vm.ready = true;\r\n                });                \r\n    //                User.get(function (res) {\r\n    //                    vm.users = res.data;\r\n    //                    vm.total = res.total;\r\n    //                    vm.next = res.next_page_url;\r\n    //                    vm.ready = true;\r\n    //                });\r\n            }\r\n\r\n    \r\n            /**\r\n             * find by id\r\n             */\r\n            function getPermiso() {\r\n            \tconsole.log('-----------------------------------------');\r\n            \tconsole.log($stateParams);\r\n            \tconsole.log('-----------------------------------------');\r\n                vm.permiso = Permiso.get(\r\n                \t\t{\r\n            \t\t\t\tidProg: $stateParams.idProg, \r\n            \t\t\t\tidOper: $stateParams.idOper,\r\n            \t\t\t\tidEmpresa: $stateParams.idEmpresa, \r\n            \t\t\t\tidCentro: $stateParams.idCentro, \r\n            \t\t\t\tidSecu: $stateParams.idSecu\r\n        \t\t\t\t}, \r\n\t\t\t\tfunction() {                \t\r\n                    vm.ready = true;\r\n                });\r\n            }\r\n    \r\n            \r\n            \r\n            /**\r\n             * Create\r\n             */\r\n            function create() {\r\n                vm.loading = true;\r\n    \r\n                Permiso.save(vm.permiso, function (res) {\r\n                    _successResponse(res.message);\r\n                    //    vm.user = {\r\n                    //        user_roles: {\r\n                    //            role: 'Role'\r\n                    //        }\r\n                    //    };\r\n                }, function (err) {\r\n                    _errorResponse(err.data, 'No se ha podido crear el permiso');\r\n                });\r\n            }\r\n    //\r\n    //        /**\r\n    //         * update user\r\n    //         */\r\n    //        function update() {\r\n    //            vm.loading = true;\r\n    //\r\n    //            User.update({id: vm.user.id}, vm.user, function (res) {\r\n    //                _successResponse(res.message);\r\n    //            }, function (err) {\r\n    //                _errorResponse(err.data, \"User edition failed see errors below\");\r\n    //            });\r\n    //        }\r\n    //\r\n    //        /**\r\n    //         * Delete\r\n    //         */\r\n    //        function deleteUser() {\r\n    //            User.delete({id: vm.user.id}, function (res) {\r\n    //                vm.users.splice(vm.users.indexOf(vm.user), 1);\r\n    //                vm.total = vm.total - 1;\r\n    //                vm.deleteModal = false;\r\n    //                vm.flash = res.message;\r\n    //                $timeout(function () {\r\n    //                    vm.flash = false;\r\n    //                }, 3000);\r\n    //            });\r\n    //        }\r\n    //\r\n    //        /**\r\n    //         * Show delete modal\r\n    //         */\r\n    //        function showDeleteModal(user) {\r\n    //            vm.user = user;\r\n    //            vm.deleteModal = true;\r\n    //        }\r\n    //\r\n    //        /**\r\n    //         * Hide delete modal\r\n    //         */\r\n    //        function hideDeleteModal() {\r\n    //            vm.deleteModal = false;\r\n    //        }\r\n    //\r\n    //        /**\r\n    //         * load more\r\n    //         */\r\n    //        function loadMore(url) {\r\n    //            $http.get(url).success(function (res) {\r\n    //                vm.next = res.next_page_url;\r\n    //                vm.users = vm.users.concat(res.data);\r\n    //            });\r\n    //        }\r\n    //\r\n    //        /**\r\n    //         * Live search\r\n    //         */\r\n    //        function liveSearch() {\r\n    //            $http.post('/admin/api/users/search', {keyword: vm.search}).success(function (res) {\r\n    //                vm.users = res.data;\r\n    //                vm.total = res.total;\r\n    //                vm.next = res.next_page_url;\r\n    //            });\r\n    //        }\r\n    //\r\n    //        /**\r\n    //         * Filter by role\r\n    //         */\r\n    //        function filterByRole() {\r\n    //            $http.post('/admin/api/users/user-role-filter', {role: vm.roleFilter}).success(function (res) {\r\n    //                vm.users = res.data;\r\n    //                vm.total = res.total;\r\n    //                vm.next = res.next_page_url;\r\n    //            });\r\n    //        }\r\n    //\r\n    //        /**\r\n    //         * Delete image\r\n    //         */\r\n    //        function deleteImage(id) {\r\n    //            $http.post('/admin/api/destroy-user-image', {id: id}).success(function(res) {\r\n    //                document.getElementById('single-uploader').value = null;\r\n    //                vm.user.image = null;\r\n    //            });\r\n    //        }\r\n    //\r\n    //        /**\r\n    //         * Hide image\r\n    //         */\r\n    //        function hideImage() {\r\n    //            document.getElementById('single-uploader').value = null;\r\n    //            vm.user.file = false;\r\n    //        }\r\n    \r\n            /**\r\n             * Success response\r\n             */\r\n            function _successResponse(successMessage) {\r\n                vm.errors = '';\r\n                vm.flash = successMessage;\r\n                vm.loading = false;\r\n                $timeout(function () {\r\n                    vm.flash = false;\r\n                }, 5000);\r\n            }\r\n    \r\n            /**\r\n             * Errors response\r\n             */\r\n            function _errorResponse(errors, flashError) {\r\n                vm.errors = errors;\r\n                vm.loading = false;\r\n                vm.flashError = flashError;\r\n                $timeout(function () {\r\n                    vm.flashError = false;\r\n                }, 5000);\r\n            }\r\n\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.permisos')\r\n        .run(appRun);\r\n\r\n    appRun.$inject = ['routerHelper'];\r\n    /* @ngInject */\r\n    function appRun(routerHelper) {\r\n        routerHelper.configureStates(getStates());\r\n    }\r\n\r\n    function getStates() {\r\n        return [\r\n            {\r\n                state: 'permisos',\r\n                config: {\r\n                    url: '/admin/permisos',\r\n                    templateUrl: '/admin/views/admin.permisos.index',\r\n                    controller: 'permisosController',\r\n                    controllerAs: 'vm',\r\n                    title: 'permisos'\r\n                }\r\n            },\r\n            {\r\n                state: 'permiso-create',\r\n                config: {\r\n                    url: '/admin/permisos/create',\r\n                    templateUrl: '/admin/views/admin.permisos.create',\r\n                    controller: 'permisosController',\r\n                    controllerAs: 'vm',\r\n                    title: 'Create permiso'\r\n                }\r\n            },\r\n            {\r\n                state: 'permiso-edit',\r\n                config: {\r\n                    url: '/admin/permisos/:idProg/:idOper/:idEmpresa/:idCentro/:idSecu/edit',\r\n                    templateUrl: '/admin/views/admin.permisos.edit',\r\n                    controller: 'permisosController',\r\n                    controllerAs: 'vm',\r\n                    title: 'Edit permiso'\r\n                }\r\n            }\r\n        ];\r\n    }\r\n})();\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.gallery')\r\n        .controller('GalleryController', GalleryController);\r\n\r\n    GalleryController.$inject = ['$http', '$timeout', '$stateParams', 'Gallery'];\r\n    /* @ngInject */\r\n    function GalleryController($http, $timeout, $stateParams, Gallery) {\r\n\r\n        var vm = this;\r\n\r\n        vm.galleries = {};\r\n        vm.gallery = {};\r\n\r\n        vm.create = create;\r\n        vm.update = update;\r\n        vm.deleteGallery = deleteGallery;\r\n        vm.hideImage = hideImage;\r\n        vm.showDeleteModal = showDeleteModal;\r\n        vm.hideDeleteModal = hideDeleteModal;\r\n        vm.deleteImage = deleteImage;\r\n        vm.liveSearch = liveSearch;\r\n        vm.loadMore = loadMore;\r\n\r\n        if(! $stateParams.id) { getGalleries(); }\r\n        if($stateParams.id) { getGallery(); }\r\n\r\n        /**\r\n         * Get all\r\n         */\r\n        function getGalleries() {\r\n            Gallery.get(function (res) {\r\n                vm.galleries = res.data;\r\n                vm.total = res.total;\r\n                vm.next = res.next_page_url;\r\n                vm.ready = true;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * find by id\r\n         */\r\n        function getGallery() {\r\n            vm.gallery = Gallery.get({id: $stateParams.id}, function() {\r\n                vm.ready = true;\r\n                vm.gallery.date = new Date(vm.gallery.date);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Create\r\n         */\r\n        function create() {\r\n            vm.loading = true;\r\n\r\n            Gallery.save(vm.gallery, function(res) {\r\n                _successResponse(res.message);\r\n                vm.gallery = '';\r\n            }, function (err) {\r\n                _errorResponse(err.data, 'Gallery creation failed, see errors below');\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Update\r\n         */\r\n        function update() {\r\n            vm.loading = true;\r\n\r\n            Gallery.update({id: vm.gallery.id}, vm.gallery, function (res) {\r\n                _successResponse(res.message);\r\n            }, function (err) {\r\n                _errorResponse(err.data, 'Gallery edition failed, see errors below');\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Delete image\r\n         */\r\n        function deleteImage(id, file, image_id) {\r\n\r\n            if(image_id) {\r\n                $http.post('/admin/api/destroy-gallery-image', {id: id, image_id: image_id}).success(function(res) {\r\n                    var index = vm.gallery.gallery_images.indexOf(file);\r\n                    vm.gallery.gallery_images.splice(index, 1);\r\n                });\r\n            } else {\r\n                $http.post('/admin/api/destroy-gallery-image', {id: id }).success(function(res) {\r\n                    vm.gallery.image = null;\r\n                });\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Hide Image\r\n         */\r\n        function hideImage(file) {\r\n            if(file) {\r\n                var index = vm.gallery.files.indexOf(file);\r\n                vm.gallery.files.splice(index, 1);\r\n            } else {\r\n                document.getElementById('single-uploader').value = null;\r\n                vm.gallery.file = null;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Show delete modal\r\n         */\r\n        function showDeleteModal(gallery) {\r\n            vm.gallery = gallery;\r\n            vm.deleteModal = true;\r\n        }\r\n\r\n        /**\r\n         * Delete\r\n         */\r\n        function deleteGallery() {\r\n            Gallery.delete({id: vm.gallery.id}, function (res) {\r\n                vm.galleries.splice(vm.galleries.indexOf(vm.gallery), 1);\r\n                vm.total = vm.total - 1;\r\n                vm.deleteModal = false;\r\n                vm.flash = res.message;\r\n                $timeout(function () {\r\n                    vm.flash = false;\r\n                }, 3000);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Hide delete modal\r\n         */\r\n        function hideDeleteModal() {\r\n            vm.deleteModal = false;\r\n        }\r\n\r\n        /**\r\n         * load more\r\n         */\r\n        function loadMore(url) {\r\n            $http.get(url).success(function (res) {\r\n                vm.galleries = vm.galleries.concat(res.data);\r\n                vm.next = res.next_page_url;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Live search\r\n         */\r\n        function liveSearch() {\r\n            $http.post('/admin/api/gallery/search', {keyword: vm.search}).success(function (res) {\r\n                vm.galleries = res.data;\r\n                vm.total = res.total;\r\n                vm.next = res.next_page_url;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Success response\r\n         */\r\n        function _successResponse(successMessage) {\r\n            vm.errors = '';\r\n            vm.flash = successMessage;\r\n            vm.loading = false;\r\n            $timeout(function () {\r\n                vm.flash = false;\r\n            }, 5000);\r\n        }\r\n\r\n        /**\r\n         * Errors response\r\n         */\r\n        function _errorResponse(errors, flashError) {\r\n            vm.errors = errors;\r\n            vm.loading = false;\r\n            vm.flashError = flashError;\r\n            $timeout(function () {\r\n                vm.flashError = false;\r\n            }, 5000);\r\n        }\r\n\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.gallery')\r\n        .run(appRun);\r\n\r\n    appRun.$inject = ['routerHelper'];\r\n    /* @ngInject */\r\n    function appRun(routerHelper) {\r\n        routerHelper.configureStates(getStates());\r\n    }\r\n\r\n    function getStates() {\r\n        return [\r\n            {\r\n                state: 'gallery',\r\n                config: {\r\n                    url: '/admin/gallery',\r\n                    templateUrl: '/admin/views/admin.gallery.index',\r\n                    controller: 'GalleryController',\r\n                    controllerAs: 'vm',\r\n                    title: 'Gallery'\r\n                }\r\n            },\r\n            {\r\n                state: 'gallery-create',\r\n                config: {\r\n                    url: '/admin/gallery/create',\r\n                    templateUrl: '/admin/views/admin.gallery.create',\r\n                    controller: 'GalleryController',\r\n                    controllerAs: 'vm',\r\n                    title: 'Create Gallery'\r\n                }\r\n            },\r\n            {\r\n                state: 'gallery-edit',\r\n                config: {\r\n                    url: '/admin/gallery/:id/edit',\r\n                    templateUrl: '/admin/views/admin.gallery.edit',\r\n                    controller: 'GalleryController',\r\n                    controllerAs: 'vm',\r\n                    title: 'Edit Gallery'\r\n                }\r\n            }\r\n        ];\r\n    }\r\n})();\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.filters')\r\n        .filter('roles', roles);\r\n\r\n    function roles() {\r\n        return function(role) {\r\n            var roleWords = ['Not Auth', 'Auth', 'Admin', 'Super Admin', 'Owner'];\r\n\r\n            return roleWords[role];\r\n        }\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.profile')\r\n        .controller('ProfileController', ProfileController);\r\n\r\n    ProfileController.$inject = ['$http', '$timeout', 'User', 'AuthUser'];\r\n    /* @ngInject */\r\n    function ProfileController($http, $timeout, User, AuthUser) {\r\n\r\n        var vm = this;\r\n\r\n        vm.authuser = {};\r\n\r\n        vm.update = update;\r\n        vm.deleteImage = deleteImage;\r\n        vm.hideImage = hideImage;\r\n        authUser();\r\n\r\n        /**\r\n         * Auth user\r\n         */\r\n        function authUser() {\r\n            AuthUser.get().success(function(res) {\r\n                vm.authUser = res;\r\n                vm.ready = true;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * update\r\n         */\r\n        function update() {\r\n\r\n            vm.loading = true;\r\n\r\n            User.update({id: vm.authUser.id}, vm.authUser, function (res) {\r\n                _successResponse(res.message);\r\n            }, function (err) {\r\n                _errorResponse(err.data, 'User edition failed, see errors below');\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Delete image\r\n         */\r\n        function deleteImage(id) {\r\n            $http.post('/admin/api/destroy-user-image', {id: id}).success(function(res) {\r\n                vm.authUser.file = null;\r\n                vm.authUser.image = null;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Hide image\r\n         */\r\n        function hideImage() {\r\n            vm.authUser.file = false;\r\n        }\r\n\r\n        /**\r\n         * Success response\r\n         */\r\n        function _successResponse(successMessage) {\r\n            vm.errors = '';\r\n            vm.flash = successMessage;\r\n            vm.loading = false;\r\n            $timeout(function () {\r\n                vm.flash = false;\r\n            }, 5000);\r\n        }\r\n\r\n        /**\r\n         * Errors response\r\n         */\r\n        function _errorResponse(errors, flashError) {\r\n            vm.errors = errors;\r\n            vm.loading = false;\r\n            vm.flashError = flashError;\r\n            $timeout(function () {\r\n                vm.flashError = false;\r\n            }, 5000);\r\n        }\r\n\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.profile')\r\n        .run(appRun);\r\n\r\n    appRun.$inject = ['routerHelper'];\r\n    /* @ngInject */\r\n    function appRun(routerHelper) {\r\n        routerHelper.configureStates(getStates());\r\n    }\r\n\r\n    function getStates() {\r\n        return [\r\n            {\r\n                state: 'profile',\r\n                config: {\r\n                    url: '/admin/profile',\r\n                    templateUrl: '/admin/views/admin.profile.index',\r\n                    controller: 'ProfileController',\r\n                    controllerAs: 'vm',\r\n                    title: 'My Profile'\r\n                }\r\n            }\r\n        ];\r\n    }\r\n})();\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.posts')\r\n        .controller('PostsController', PostsController);\r\n\r\n    PostsController.$inject = ['$http', '$timeout', '$stateParams', 'Post'];\r\n    /* @ngInject */\r\n    function PostsController($http, $timeout, $stateParams, Post) {\r\n\r\n        var vm = this;\r\n\r\n        vm.posts = {};\r\n        vm.post = {};\r\n\r\n        vm.create = create;\r\n        vm.update = update;\r\n        vm.deletePost = deletePost;\r\n        vm.hideImage = hideImage;\r\n        vm.showDeleteModal = showDeleteModal;\r\n        vm.hideDeleteModal = hideDeleteModal;\r\n        vm.deleteImage = deleteImage;\r\n        vm.liveSearch = liveSearch;\r\n        vm.loadMore = loadMore;\r\n\r\n        if(! $stateParams.id) { getPosts(); }\r\n        if($stateParams.id) { getPost(); }\r\n\r\n        /**\r\n         * Get all\r\n         */\r\n        function getPosts() {\r\n            Post.get(function (res) {\r\n                vm.posts = res.data;\r\n                vm.total = res.total;\r\n                vm.next = res.next_page_url;\r\n                vm.ready = true;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * find by id\r\n         */\r\n        function getPost() {\r\n            vm.post = Post.get({id: $stateParams.id}, function() {\r\n                vm.ready = true;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Create\r\n         */\r\n        function create() {\r\n            vm.loading = true;\r\n\r\n            Post.save(vm.post, function(res) {\r\n                _successResponse(res.message);\r\n                vm.post = '';\r\n            }, function (err) {\r\n                _errorResponse(err.data, 'Post creation failed, see errors below');\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Update\r\n         */\r\n        function update() {\r\n            vm.loading = true;\r\n\r\n            Post.update({id: vm.post.id}, vm.post, function (res) {\r\n                _successResponse(res.message);\r\n            }, function (err) {\r\n                _errorResponse(err.data, 'Post edition failed, see errors below');\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Delete image\r\n         */\r\n        function deleteImage(id, file, image_id) {\r\n\r\n            if(image_id) {\r\n                $http.post('/admin/api/destroy-post-image', {id: id, image_id: image_id}).success(function(res) {\r\n                    var index = vm.post.post_images.indexOf(file);\r\n                    vm.post.post_images.splice(index, 1);\r\n                });\r\n            } else {\r\n                $http.post('/admin/api/destroy-post-image', {id: id }).success(function(res) {\r\n                    vm.post.image = null;\r\n                });\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Hide Image\r\n         */\r\n        function hideImage(file) {\r\n            if(file) {\r\n                var index = vm.post.files.indexOf(file);\r\n                vm.post.files.splice(index, 1);\r\n            } else {\r\n                document.getElementById('single-uploader').value = null;\r\n                vm.post.file = null;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Show delete modal\r\n         */\r\n        function showDeleteModal(post) {\r\n            vm.post = post;\r\n            vm.deleteModal = true;\r\n        }\r\n\r\n        /**\r\n         * Delete\r\n         */\r\n        function deletePost() {\r\n            Post.delete({id: vm.post.id}, function (res) {\r\n                vm.posts.splice(vm.posts.indexOf(vm.post), 1);\r\n                vm.total = vm.total - 1;\r\n                vm.deleteModal = false;\r\n                vm.flash = res.message;\r\n                $timeout(function () {\r\n                    vm.flash = false;\r\n                }, 3000);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Hide delete modal\r\n         */\r\n        function hideDeleteModal() {\r\n            vm.deleteModal = false;\r\n        }\r\n\r\n        /**\r\n         * load more users\r\n         */\r\n        function loadMore(url) {\r\n            $http.get(url).success(function (res) {\r\n                vm.posts = vm.posts.concat(res.data);\r\n                vm.next = res.next_page_url;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Live search\r\n         */\r\n        function liveSearch() {\r\n            $http.post('/admin/api/posts/search', {keyword: vm.search}).success(function (res) {\r\n                vm.posts = res.data;\r\n                vm.total = res.total;\r\n                vm.next = res.next_page_url;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Success response\r\n         */\r\n        function _successResponse(successMessage) {\r\n            vm.errors = '';\r\n            vm.flash = successMessage;\r\n            vm.loading = false;\r\n            $timeout(function () {\r\n                vm.flash = false;\r\n            }, 5000);\r\n        }\r\n\r\n        /**\r\n         * Errors response\r\n         */\r\n        function _errorResponse(errors, flashError) {\r\n            vm.errors = errors;\r\n            vm.loading = false;\r\n            vm.flashError = flashError;\r\n            $timeout(function () {\r\n                vm.flashError = false;\r\n            }, 5000);\r\n        }\r\n\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.posts')\r\n        .run(appRun);\r\n\r\n    appRun.$inject = ['routerHelper'];\r\n    /* @ngInject */\r\n    function appRun(routerHelper) {\r\n        routerHelper.configureStates(getStates());\r\n    }\r\n\r\n    function getStates() {\r\n        return [\r\n            {\r\n                state: 'posts',\r\n                config: {\r\n                    url: '/admin/posts',\r\n                    templateUrl: '/admin/views/admin.posts.index',\r\n                    controller: 'PostsController',\r\n                    controllerAs: 'vm',\r\n                    title: 'Posts'\r\n                }\r\n            },\r\n            {\r\n                state: 'post-create',\r\n                config: {\r\n                    url: '/admin/posts/create',\r\n                    templateUrl: '/admin/views/admin.posts.create',\r\n                    controller: 'PostsController',\r\n                    controllerAs: 'vm',\r\n                    title: 'Create Post'\r\n                }\r\n            },\r\n            {\r\n                state: 'post-edit',\r\n                config: {\r\n                    url: '/admin/posts/:id/edit',\r\n                    templateUrl: '/admin/views/admin.posts.edit',\r\n                    controller: 'PostsController',\r\n                    controllerAs: 'vm',\r\n                    title: 'Edit Post'\r\n                }\r\n            }\r\n        ];\r\n    }\r\n})();\n/* Help configure the state-base ui.router */\r\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.router')\r\n        .provider('routerHelper', routerHelperProvider);\r\n\r\n    routerHelperProvider.$inject = ['$locationProvider', '$stateProvider', '$urlRouterProvider'];\r\n    /* @ngInject */\r\n    function routerHelperProvider($locationProvider, $stateProvider, $urlRouterProvider) {\r\n        /* jshint validthis:true */\r\n        var config = {\r\n            docTitle: 'Admin',\r\n            resolveAlways: {}\r\n        };\r\n\r\n        $locationProvider.html5Mode(true);\r\n\r\n        this.configure = function(cfg) {\r\n            angular.extend(config, cfg);\r\n        };\r\n\r\n        this.$get = RouterHelper;\r\n        RouterHelper.$inject = ['$location', '$rootScope', '$state'];\r\n        /* @ngInject */\r\n        function RouterHelper($location, $rootScope, $state, logger) {\r\n            var handlingStateChangeError = false;\r\n            var hasOtherwise = false;\r\n            var stateCounts = {\r\n                errors: 0,\r\n                changes: 0\r\n            };\r\n\r\n            var service = {\r\n                configureStates: configureStates,\r\n                getStates: getStates,\r\n                stateCounts: stateCounts\r\n            };\r\n\r\n            init();\r\n\r\n            return service;\r\n\r\n            function configureStates(states, otherwisePath) {\r\n                states.forEach(function(state) {\r\n                    state.config.resolve =\r\n                        angular.extend(state.config.resolve || {}, config.resolveAlways);\r\n                    $stateProvider.state(state.state, state.config);\r\n                });\r\n                if (otherwisePath && !hasOtherwise) {\r\n                    hasOtherwise = true;\r\n                    $urlRouterProvider.otherwise(otherwisePath);\r\n                }\r\n            }\r\n\r\n            function handleRoutingErrors() {\r\n                // Route cancellation:\r\n                // On routing error, go to the dashboard.\r\n                // Provide an exit clause if it tries to do it twice.\r\n                $rootScope.$on('$stateChangeError',\r\n                    function(event, toState, toParams, fromState, fromParams, error) {\r\n                        if (handlingStateChangeError) {\r\n                            return;\r\n                        }\r\n                        stateCounts.errors++;\r\n                        handlingStateChangeError = true;\r\n                        var destination = (toState &&\r\n                            (toState.title || toState.name || toState.loadedTemplateUrl)) ||\r\n                            'unknown target';\r\n                        var msg = 'Error routing to ' + destination + '. ' +\r\n                            (error.data || '') + '. <br/>' + (error.statusText || '') +\r\n                            ': ' + (error.status || '');\r\n                        logger.warning(msg, [toState]);\r\n                        $location.path('/');\r\n                    }\r\n                );\r\n            }\r\n\r\n            function init() {\r\n                handleRoutingErrors();\r\n                updateDocTitle();\r\n            }\r\n\r\n            function getStates() { return $state.get(); }\r\n\r\n            function updateDocTitle() {\r\n                $rootScope.$on('$stateChangeSuccess',\r\n                    function(event, toState, toParams, fromState, fromParams) {\r\n                        stateCounts.changes++;\r\n                        handlingStateChangeError = false;\r\n                        var title = (toState.title || '') + '  ' + config.docTitle;\r\n                        $rootScope.mainUrl = $state.current.url.split('/')[2];\r\n                        $rootScope.title = title; // data bind to <title>\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n})();\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.users')\r\n        .controller('UsersController', UsersController);\r\n\r\n    UsersController.$inject = ['$http', '$timeout', '$stateParams', 'User', 'AuthUser'];\r\n    /* @nginject */\r\n    function UsersController($http, $timeout, $stateParams, User, AuthUser) {\r\n\r\n        var vm = this;\r\n\r\n        vm.user = {};\r\n        vm.users = {};\r\n        vm.authuser = {};\r\n        vm.create = create;\r\n        vm.update = update;\r\n        vm.deleteUser = deleteUser;\r\n        vm.hideImage = hideImage;\r\n        vm.deleteImage = deleteImage;\r\n        vm.showDeleteModal = showDeleteModal;\r\n        vm.hideDeleteModal = hideDeleteModal;\r\n        vm.loadMore = loadMore;\r\n        vm.liveSearch = liveSearch;\r\n        vm.filterByRole = filterByRole;\r\n        authUser();\r\n        if(! $stateParams.id) { getUsers(); }\r\n        if($stateParams.id) { getUser(); }\r\n\r\n        /**\r\n         * Auth user\r\n         */\r\n        function authUser() {\r\n            AuthUser.get().success(function(res) {\r\n                vm.authUser = res;\r\n                vm.isUploaded = res.image ? true : false;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Get all\r\n         */\r\n        function getUsers() {\r\n            User.get(function (res) {\r\n                vm.users = res.data;\r\n                vm.total = res.total;\r\n                vm.next = res.next_page_url;\r\n                vm.ready = true;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * find by id\r\n         */\r\n        function getUser() {\r\n            vm.user = User.get({id: $stateParams.id}, function() {\r\n                vm.ready = true;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Create\r\n         */\r\n        function create() {\r\n            vm.loading = true;\r\n\r\n            User.save(vm.user, function (res) {\r\n                _successResponse(res.message);\r\n                vm.user = {\r\n                    user_roles: {\r\n                        role: 'Role'\r\n                    }\r\n                };\r\n            }, function (err) {\r\n                _errorResponse(err.data, 'User creation failed see errors below');\r\n            });\r\n        }\r\n\r\n        /**\r\n         * update user\r\n         */\r\n        function update() {\r\n            vm.loading = true;\r\n\r\n            User.update({id: vm.user.id}, vm.user, function (res) {\r\n                _successResponse(res.message);\r\n            }, function (err) {\r\n                _errorResponse(err.data, \"User edition failed see errors below\");\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Delete\r\n         */\r\n        function deleteUser() {\r\n            User.delete({id: vm.user.id}, function (res) {\r\n                vm.users.splice(vm.users.indexOf(vm.user), 1);\r\n                vm.total = vm.total - 1;\r\n                vm.deleteModal = false;\r\n                vm.flash = res.message;\r\n                $timeout(function () {\r\n                    vm.flash = false;\r\n                }, 3000);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Show delete modal\r\n         */\r\n        function showDeleteModal(user) {\r\n            vm.user = user;\r\n            vm.deleteModal = true;\r\n        }\r\n\r\n        /**\r\n         * Hide delete modal\r\n         */\r\n        function hideDeleteModal() {\r\n            vm.deleteModal = false;\r\n        }\r\n\r\n        /**\r\n         * load more\r\n         */\r\n        function loadMore(url) {\r\n            $http.get(url).success(function (res) {\r\n                vm.next = res.next_page_url;\r\n                vm.users = vm.users.concat(res.data);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Live search\r\n         */\r\n        function liveSearch() {\r\n            $http.post('/admin/api/users/search', {keyword: vm.search}).success(function (res) {\r\n                vm.users = res.data;\r\n                vm.total = res.total;\r\n                vm.next = res.next_page_url;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Filter by role\r\n         */\r\n        function filterByRole() {\r\n            $http.post('/admin/api/users/user-role-filter', {role: vm.roleFilter}).success(function (res) {\r\n                vm.users = res.data;\r\n                vm.total = res.total;\r\n                vm.next = res.next_page_url;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Delete image\r\n         */\r\n        function deleteImage(id) {\r\n            $http.post('/admin/api/destroy-user-image', {id: id}).success(function(res) {\r\n                document.getElementById('single-uploader').value = null;\r\n                vm.user.image = null;\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Hide image\r\n         */\r\n        function hideImage() {\r\n            document.getElementById('single-uploader').value = null;\r\n            vm.user.file = false;\r\n        }\r\n\r\n        /**\r\n         * Success response\r\n         */\r\n        function _successResponse(successMessage) {\r\n            vm.errors = '';\r\n            vm.flash = successMessage;\r\n            vm.loading = false;\r\n            $timeout(function () {\r\n                vm.flash = false;\r\n            }, 5000);\r\n        }\r\n\r\n        /**\r\n         * Errors response\r\n         */\r\n        function _errorResponse(errors, flashError) {\r\n            vm.errors = errors;\r\n            vm.loading = false;\r\n            vm.flashError = flashError;\r\n            $timeout(function () {\r\n                vm.flashError = false;\r\n            }, 5000);\r\n        }\r\n\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.users')\r\n        .run(appRun);\r\n\r\n    appRun.$inject = ['routerHelper'];\r\n    /* @ngInject */\r\n    function appRun(routerHelper) {\r\n        routerHelper.configureStates(getStates());\r\n    }\r\n\r\n    function getStates() {\r\n        return [\r\n            {\r\n                state: 'users',\r\n                config: {\r\n                    url: '/admin/users',\r\n                    templateUrl: '/admin/views/admin.users.index',\r\n                    controller: 'UsersController',\r\n                    controllerAs: 'vm',\r\n                    title: 'Users'\r\n                }\r\n            },\r\n            {\r\n                state: 'user-create',\r\n                config: {\r\n                    url: '/admin/users/create',\r\n                    templateUrl: '/admin/views/admin.users.create',\r\n                    controller: 'UsersController',\r\n                    controllerAs: 'vm',\r\n                    title: 'Create User'\r\n                }\r\n            },\r\n            {\r\n                state: 'user-edit',\r\n                config: {\r\n                    url: '/admin/users/:id/edit',\r\n                    templateUrl: '/admin/views/admin.users.edit',\r\n                    controller: 'UsersController',\r\n                    controllerAs: 'vm',\r\n                    title: 'Edit User'\r\n                }\r\n            }\r\n        ];\r\n    }\r\n})();\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module(\"app.services\")\r\n        .factory(\"AuthUser\", AuthUser);\r\n\r\n    AuthUser.$inject = ['$http'];\r\n    /* @ngInject */\r\n    function AuthUser($http) {\r\n        var service = {\r\n            get: get\r\n        };\r\n\r\n        return service;\r\n\r\n        function get() {\r\n            return $http.get('/admin/api/auth-user');\r\n        }\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module(\"app.gallery\")\r\n        .factory(\"Gallery\", Gallery);\r\n\r\n    Gallery.$inject = ['$resource'];\r\n    /* @ngInject */\r\n    function Gallery($resource) {\r\n        return $resource('/admin/api/gallery/:id', {id: '@_id'}, {\r\n            update: {\r\n                method: 'PUT'\r\n            }\r\n        });\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module(\"app.services\")\r\n        .factory(\"Permiso\", Permiso);\r\n\r\n    Permiso.$inject = ['$resource'];\r\n    /* @ngInject */\r\n    function Permiso($resource) {        \r\n    \t// return $resource('/admin/api/permisos/:idOper/:idProg', {idOper: '@_idOper', idProg: '@_idProg'}, {\r\n    \t// return $resource('/admin/api/permisos/', {}, {\r\n    \treturn $resource\r\n    \t(\r\n    \t\t\t// '/admin/api/permisos/:idOper/:idProg/:idEmpresa/:idCentro/:idSecu', {},    \t\t\t\r\n\t\t\t\t// '/admin/api/permisos/:idOper/:idProg/:idEmpresa/:idCentro/:idSecu', { idOper: '@_idOper', idProg: '@_idProg', idEmpresa: '@_idEmpresa', idCentro: '@_idCentro', idSecu: '@_idSecu'},\r\n    \t\t\t// '/admin/api/permisos/:idOper', { idOper: '@_idOper', idProg: '@_idProg', idEmpresa: '@_idEmpresa', idCentro: '@_idCentro', idSecu: '@_idSecu'},\r\n    \t\t\t'/admin/api/permisos/', {},\r\n\t\t\t\t{ \r\n\t\t\t\t\tupdate: { method: 'PUT' },\r\n\t\t\t\t\tget : {method : 'GET', params : {mode : ''}}, \r\n\t\t\t\t}\r\n\t\t);\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module(\"app.services\")\r\n        .factory(\"Post\", Post);\r\n\r\n    Post.$inject = ['$resource'];\r\n    /* @ngInject */\r\n    function Post($resource) {\r\n        return $resource('/admin/api/posts/:id', {id: '@_id'}, {\r\n            update: {\r\n                method: 'PUT'\r\n            }\r\n        });\r\n    }\r\n\r\n}());\n(function() {\r\n\r\n    'use strict';\r\n\r\n    angular\r\n        .module(\"app.services\")\r\n        .factory(\"User\", User);\r\n\r\n    User.$inject = ['$resource'];\r\n    /* @ngInject */\r\n    function User($resource) {\r\n        return $resource('/admin/api/users/:id', {id: '@_id'}, {\r\n            update: {\r\n                method: 'PUT'\r\n            }\r\n        });\r\n    }\r\n\r\n}());"],"sourceRoot":"/source/"}